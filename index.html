<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="寶貝日誌 - 專注於親子互動與情感支持的嬰幼兒照顧追蹤應用">
    <meta name="theme-color" content="#64B5F6">
    <title>寶貝日誌 (BabyLog)</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- 預加載字體以避免文字閃爍 -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"></noscript>
    <!-- 使用Font Awesome圖標 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 應用程式圖標 -->
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- PWA清單 -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- 應用程式外殼結構 -->
    <div class="app-container" id="app">
        <!-- 頂部導航 -->
        <header class="app-header">
            <div class="header-content">
                <button id="menuToggle" class="menu-toggle" aria-label="開啟選單">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="app-title">寶貝日誌</h1>
                <div class="header-actions">
                    <button id="themeToggle" class="theme-toggle" aria-label="切換主題">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- 側邊選單 -->
        <nav class="app-nav" id="appNav">
            <div class="nav-header">
                <h2>選單</h2>
                <button id="closeMenu" class="close-menu" aria-label="關閉選單">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="nav-content">
                <ul class="nav-list">
                    <li><a href="#home" class="nav-item active" data-view="home"><i class="fas fa-home"></i> 首頁</a></li>
                    <li><a href="#children" class="nav-item" data-view="children"><i class="fas fa-child"></i> 孩子檔案</a></li>
                    <li><a href="#daily" class="nav-item" data-view="daily"><i class="fas fa-calendar-day"></i> 日常記錄</a></li>
                    <li><a href="#health" class="nav-item" data-view="health"><i class="fas fa-heartbeat"></i> 健康管理</a></li>
                    <li><a href="#milestones" class="nav-item" data-view="milestones"><i class="fas fa-trophy"></i> 成長里程碑</a></li>
                    <li><a href="#reports" class="nav-item" data-view="reports"><i class="fas fa-chart-bar"></i> 數據分析</a></li>
                    <li><a href="#reflection" class="nav-item" data-view="reflection"><i class="fas fa-book"></i> 親子日記</a></li>
                    <li><a href="#settings" class="nav-item" data-view="settings"><i class="fas fa-cog"></i> 設定</a></li>
                </ul>
            </div>
            <div class="nav-footer">
                <button id="dataBackup" class="nav-button"><i class="fas fa-download"></i> 備份數據</button>
                <button id="dataRestore" class="nav-button"><i class="fas fa-upload"></i> 恢復數據</button>
            </div>
        </nav>

        <!-- 主要內容區 -->
        <main class="app-main" id="appMain">
            <!-- 初始歡迎畫面 -->
            <section id="welcomeView" class="app-view active-view">
                <div class="welcome-container">
                    <div class="welcome-header">
                        <img src="img/logo.svg" alt="寶貝日誌 Logo" class="welcome-logo">
                        <h2>歡迎使用寶貝日誌</h2>
                        <p>記錄照顧旅程，珍藏成長時刻</p>
                    </div>
                    <div class="welcome-features">
                        <div class="feature-item">
                            <i class="fas fa-baby feature-icon"></i>
                            <h3>追蹤成長</h3>
                            <p>記錄餵食、睡眠和里程碑</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-heart feature-icon"></i>
                            <p>情感支持</p>
                            <p>提供父母的情感支持與反思</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-shield-alt feature-icon"></i>
                            <h3>隱私第一</h3>
                            <p>數據只存在您的設備上</p>
                        </div>
                    </div>
                    <div class="welcome-action">
                        <button id="startButton" class="primary-button">開始使用</button>
                    </div>
                </div>
            </section>

            <!-- 首頁視圖 -->
            <section id="homeView" class="app-view">
                <div class="home-header">
                    <h2>今日概覽</h2>
                    <p class="date-display" id="currentDate">載入中...</p>
                </div>
                
                <!-- 孩子選擇器 -->
                <div class="child-selector" id="childSelector">
                    <!-- 將由JavaScript動態填充 -->
                </div>
                
                <!-- 快速操作 -->
                <div class="quick-actions">
                    <h3>快速記錄</h3>
                    <div class="action-buttons">
                        <button class="action-button" data-action="feeding">
                            <i class="fas fa-utensils"></i>
                            <span>餵食</span>
                        </button>
                        <button class="action-button" data-action="sleep">
                            <i class="fas fa-moon"></i>
                            <span>睡眠</span>
                        </button>
                        <button class="action-button" data-action="diaper">
                            <i class="fas fa-baby"></i>
                            <span>換尿布</span>
                        </button>
                        <button class="action-button" data-action="health">
                            <i class="fas fa-heartbeat"></i>
                            <span>健康</span>
                        </button>
                        <button class="action-button" data-action="milestone">
                            <i class="fas fa-trophy"></i>
                            <span>里程碑</span>
                        </button>
                        <button class="action-button" data-action="note">
                            <i class="fas fa-sticky-note"></i>
                            <span>筆記</span>
                        </button>
                    </div>
                </div>
                
                <!-- 今日摘要 -->
                <div class="today-summary">
                    <h3>今日摘要</h3>
                    <div class="summary-container" id="todaySummary">
                        <!-- 將由JavaScript動態填充 -->
                        <div class="placeholder-content">
                            <p>選擇一個孩子來查看今日摘要</p>
                        </div>
                    </div>
                </div>
                
                <!-- 父母反思 -->
                <div class="parent-reflection">
                    <h3>今日反思</h3>
                    <div class="reflection-prompt">
                        <p id="reflectionPrompt">您今天如何與寶寶一起度過美好時光？</p>
                        <textarea id="reflectionInput" placeholder="分享您的想法和感受..."></textarea>
                        <button id="saveReflection" class="secondary-button">保存反思</button>
                    </div>
                </div>
            </section>

            <!-- 孩子檔案視圖 -->
            <section id="childrenView" class="app-view">
                <div class="section-header">
                    <h2>孩子檔案</h2>
                    <button id="addChildButton" class="action-button">
                        <i class="fas fa-plus"></i>
                        <span>添加孩子</span>
                    </button>
                </div>
                
                <div class="children-list" id="childrenList">
                    <!-- 將由JavaScript動態填充 -->
                    <div class="placeholder-content">
                        <p>尚未添加任何孩子</p>
                    </div>
                </div>
            </section>
            
            <!-- 日常記錄視圖 -->
            <section id="dailyView" class="app-view">
                <div class="section-header">
                    <h2>日常記錄</h2>
                    <div class="view-controls">
                        <button class="view-control active" data-view="day">日</button>
                        <button class="view-control" data-view="week">週</button>
                        <button class="view-control" data-view="month">月</button>
                    </div>
                </div>
                
                <!-- 日期選擇器 -->
                <div class="date-selector">
                    <button id="prevDate" class="date-nav"><i class="fas fa-chevron-left"></i></button>
                    <div id="selectedDate" class="selected-date">2024年5月17日</div>
                    <button id="nextDate" class="date-nav"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <!-- 分類標籤 -->
                <div class="category-tabs">
                    <button class="category-tab active" data-category="all">全部</button>
                    <button class="category-tab" data-category="feeding">餵食</button>
                    <button class="category-tab" data-category="sleep">睡眠</button>
                    <button class="category-tab" data-category="diaper">尿布</button>
                    <button class="category-tab" data-category="other">其他</button>
                </div>
                
                <!-- 活動時間軸 -->
                <div class="activity-timeline" id="activityTimeline">
                    <!-- 將由JavaScript動態填充 -->
                    <div class="placeholder-content">
                        <p>選擇一個日期來查看記錄</p>
                    </div>
                </div>
            </section>

            <!-- 更多視圖將在這裡添加... -->
            <!-- 各種表單和模態窗口也將在這裡添加... -->
        </main>

        <!-- 底部導航 -->
        <footer class="app-footer">
            <div class="footer-nav">
                <a href="#home" class="footer-nav-item active" data-view="home">
                    <i class="fas fa-home"></i>
                    <span>首頁</span>
                </a>
                <a href="#daily" class="footer-nav-item" data-view="daily">
                    <i class="fas fa-calendar-day"></i>
                    <span>日常</span>
                </a>
                <a href="#quick-add" class="footer-nav-item footer-nav-center" id="quickAddButton">
                    <div class="quick-add-button">
                        <i class="fas fa-plus"></i>
                    </div>
                </a>
                <a href="#health" class="footer-nav-item" data-view="health">
                    <i class="fas fa-heartbeat"></i>
                    <span>健康</span>
                </a>
                <a href="#reports" class="footer-nav-item" data-view="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>報告</span>
                </a>
            </div>
        </footer>
    </div>

    <!-- 模態窗口容器 -->
    <div class="modal-container" id="modalContainer">
        <!-- 模態窗口將由JavaScript動態創建 -->
    </div>

    <!-- 快速添加選單 -->
    <div class="quick-add-menu" id="quickAddMenu">
        <div class="quick-add-backdrop"></div>
        <div class="quick-add-options">
            <button class="quick-option" data-action="feeding">
                <i class="fas fa-utensils"></i>
                <span>餵食</span>
            </button>
            <button class="quick-option" data-action="sleep">
                <i class="fas fa-moon"></i>
                <span>睡眠</span>
            </button>
            <button class="quick-option" data-action="diaper">
                <i class="fas fa-baby"></i>
                <span>換尿布</span>
            </button>
            <button class="quick-option" data-action="health">
                <i class="fas fa-heartbeat"></i>
                <span>健康</span>
            </button>
            <button class="quick-option" data-action="milestone">
                <i class="fas fa-trophy"></i>
                <span>里程碑</span>
            </button>
            <button class="quick-option" data-action="note">
                <i class="fas fa-sticky-note"></i>
                <span>筆記</span>
            </button>
        </div>
    </div>

    <!-- 提示消息容器 -->
    <div class="toast-container" id="toastContainer">
        <!-- 提示消息將由JavaScript動態創建 -->
    </div>

    <!-- JavaScript 模組 -->
    <script src="js/config.js" type="module"></script>
    <script src="js/db.js" type="module"></script>
    <script src="js/ui.js" type="module"></script>
    <script src="js/app.js" type="module"></script>
 <script src="js/debug.js" type="module"></script>
</body>
</html>